<div class="mb-4" ng-if="$ctrl.devMode">
  <input type="text" ng-model="$ctrl.token" />
  <button ng-click="$ctrl.saveToken()">Save</button>
</div>

<div class="mb-2 py-lg-1">
  <div class="px-lg-2 mb-2">
    <div class="jd-search-types-container d-flex flex-wrap p-1">
      <div class="jd-search-by-info-bar col-12" ng-click="$ctrl.toggleSearchTypesVisibility()">
        <span>Search by: <b>{{$ctrl.searchType['Label']}}</b></span>
        <i class="fas fa-xs fa-chevron-down mx-2" ng-show="$ctrl.searchTypesHidden"></i>
        <i class="fas fa-xs fa-chevron-up mx-2" ng-hide="$ctrl.searchTypesHidden"></i>
      </div>
      <div ng-hide="$ctrl.searchTypesHidden" class="jd-search-type-buttons-group px-2 pt-2">
        <div
          class="jd-search-type form-check form-check-inline col-6 col-lg-3"
          ng-repeat="item in $ctrl.searchTypes">
          <input
            class="form-check-input"
            type="radio"
            name="{{item.Label}}"
            ng-model="$ctrl.searchType"
            ng-value="item"
            ng-change="$ctrl.clearSearchField()" />
          <label class="form-check-label jd-search-type-label" for="{{item.Label}}">
            {{item.Label}}
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex flex-row px-lg-2">
    <div class="flex-grow-1">
      <input
        type="text"
        class="jd-search-bar form-control"
        ng-model="$ctrl.searchValue"
        ng-model-options="{ debounce : 500 }"
        placeholder="Type to search..." />
    </div>
    <div class="align-self-center">
      <i class="fas fa-search fa-lg ms-2 jd-search-icon" ng-click="$ctrl.search()"></i>
    </div>
  </div>
</div>

<search-results
  search-results="$ctrl.results"
  search-type="$ctrl.searchType"
  ng-show="$ctrl.isSearchValueValid()"></search-results>